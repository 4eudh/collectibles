<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Collectible Realm</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'ui-sans-serif', 'system-ui'],
                        display: ['Space Grotesk', 'Inter', 'system-ui']
                    },
                    colors: {
                        midnight: {
                            50: '#F1F5FF',
                            100: '#D4DEFF',
                            200: '#A0B7FF',
                            300: '#708FFE',
                            400: '#4B6EFE',
                            500: '#274DFE',
                            600: '#1C3ECC',
                            700: '#142E99',
                            800: '#0C1F66',
                            900: '#061133'
                        },
                        nebula: '#7F5BFF',
                        aurora: '#00F5A0',
                        starlight: '#FF9D66',
                        obsidian: '#0B1021'
                    },
                    boxShadow: {
                        glow: '0 25px 50px -12px rgba(127, 91, 255, 0.45)',
                        card: '0 20px 45px -20px rgba(13, 19, 33, 0.45)'
                    },
                    backgroundImage: {
                        'grid-glow': 'radial-gradient(circle at 20% 20%, rgba(127,91,255,0.25), transparent 35%), radial-gradient(circle at 80% 0%, rgba(0,245,160,0.2), transparent 40%), radial-gradient(circle at 50% 80%, rgba(255,157,102,0.2), transparent 45%)'
                    },
                    animation: {
                        gradient: 'gradientShift 18s ease infinite',
                        float: 'float 6s ease-in-out infinite',
                        shimmer: 'shimmer 1.8s linear infinite'
                    },
                    keyframes: {
                        gradientShift: {
                            '0%': { backgroundPosition: '0% 50%' },
                            '50%': { backgroundPosition: '100% 50%' },
                            '100%': { backgroundPosition: '0% 50%' }
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-12px)' }
                        },
                        shimmer: {
                            '0%': { backgroundPosition: '-100% 0' },
                            '100%': { backgroundPosition: '100% 0' }
                        }
                    }
                }
            }
        }
    </script>
    <style>
        :root {
            color-scheme: light dark;
        }

        body {
            font-feature-settings: "cv02", "cv03", "cv04", "cv09";
        }

        .glass-surface {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(18px);
        }

        .dark .glass-surface {
            background: rgba(13, 19, 33, 0.6);
        }

        .border-gradient {
            position: relative;
        }

        .border-gradient::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: inherit;
            padding: 1px;
            background: linear-gradient(120deg, rgba(127, 91, 255, 0.75), rgba(0, 245, 160, 0.75), rgba(255, 157, 102, 0.75));
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
        }

        .rarity-pill {
            background: linear-gradient(120deg, rgba(127,91,255,0.18), rgba(0,245,160,0.18));
        }

        .dark .rarity-pill {
            background: linear-gradient(120deg, rgba(127,91,255,0.22), rgba(0,245,160,0.22));
        }

        .grid-overlay::after {
            content: '';
            position: absolute;
            inset: 0;
            background-image: linear-gradient(rgba(255, 255, 255, 0.04) 1px, transparent 1px), linear-gradient(90deg, rgba(255, 255, 255, 0.04) 1px, transparent 1px);
            background-size: 48px 48px;
            pointer-events: none;
            opacity: 0.7;
        }

        .dark .grid-overlay::after {
            background-image: linear-gradient(rgba(0, 0, 0, 0.2) 1px, transparent 1px), linear-gradient(90deg, rgba(0, 0, 0, 0.2) 1px, transparent 1px);
        }

        .shimmer {
            background-image: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.45) 50%, rgba(255,255,255,0) 100%);
            background-size: 200% 100%;
        }

        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body class="min-h-full bg-midnight-900 text-slate-100">
    <div class="min-h-screen bg-grid-glow grid-overlay">
        <div class="min-h-screen flex flex-col backdrop-blur-xl bg-gradient-to-b from-white/70 via-white/60 to-white/30 dark:from-obsidian/80 dark:via-obsidian/60 dark:to-obsidian/40">
            <header class="px-6 lg:px-12 py-6">
                <div class="max-w-7xl mx-auto flex flex-col lg:flex-row lg:items-center gap-6">
                    <div class="flex items-center gap-4">
                        <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-nebula via-starlight to-aurora shadow-glow flex items-center justify-center text-2xl font-display text-obsidian">
                            ✦
                        </div>
                        <div>
                            <p class="uppercase tracking-[0.35em] text-xs font-semibold text-slate-500 dark:text-slate-400">Collectible Realm</p>
                            <h1 class="text-3xl lg:text-4xl font-display font-semibold text-obsidian dark:text-white">Master the Multiverse of Treasures</h1>
                        </div>
                    </div>
                    <nav class="flex-1">
                        <ul class="flex flex-wrap items-center gap-2 lg:justify-end">
                            <li><button data-nav="dashboard" class="nav-link px-4 py-2 rounded-full font-medium text-sm glass-surface border border-white/10 hover:border-white/40 transition">Dashboard</button></li>
                            <li><button data-nav="collection" class="nav-link px-4 py-2 rounded-full font-medium text-sm glass-surface border border-white/10 hover:border-white/40 transition">Collection</button></li>
                            <li><button data-nav="redeem" class="nav-link px-4 py-2 rounded-full font-medium text-sm glass-surface border border-white/10 hover:border-white/40 transition">Redeem</button></li>
                            <li><button data-nav="marketplace" class="nav-link px-4 py-2 rounded-full font-medium text-sm glass-surface border border-white/10 hover:border-white/40 transition">Marketplace</button></li>
                            <li><button data-nav="quests" class="nav-link px-4 py-2 rounded-full font-medium text-sm glass-surface border border-white/10 hover:border-white/40 transition">Quests</button></li>
                            <li><button data-nav="admin" class="nav-link px-4 py-2 rounded-full font-medium text-sm glass-surface border border-white/10 hover:border-white/40 transition">Admin</button></li>
                        </ul>
                    </nav>
                    <div class="flex items-center gap-3">
                        <button id="command-palette-toggle" class="hidden lg:inline-flex items-center gap-2 text-xs uppercase tracking-[0.35em] text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 transition">
                            ⌘K Command Palette
                        </button>
                        <button id="theme-toggle" class="w-10 h-10 rounded-full glass-surface border border-white/10 flex items-center justify-center text-slate-700 dark:text-slate-200 hover:border-white/30 transition" aria-label="Toggle theme">
                            <span class="theme-icon">☀️</span>
                        </button>
                        <button id="user-menu-trigger" class="px-4 py-2 rounded-full glass-surface border border-white/10 text-sm font-medium flex items-center gap-2 hover:border-white/40 transition">
                            <span class="user-name">Guest</span>
                            <span class="text-lg">▼</span>
                        </button>
                    </div>
                </div>
            </header>

            <main id="view-container" class="flex-1 px-6 lg:px-12 pb-24">
                <div class="max-w-7xl mx-auto grid gap-8" id="loading-shell">
                    <div class="glass-surface border-gradient rounded-3xl p-8 shadow-card">
                        <div class="h-32 rounded-2xl shimmer bg-white/10"></div>
                    </div>
                    <div class="grid lg:grid-cols-2 gap-6">
                        <div class="glass-surface border-gradient rounded-3xl p-8 shadow-card h-56"></div>
                        <div class="glass-surface border-gradient rounded-3xl p-8 shadow-card h-56"></div>
                    </div>
                </div>
            </main>

            <footer class="px-6 lg:px-12 py-10">
                <div class="max-w-7xl mx-auto flex flex-col lg:flex-row gap-4 lg:items-center justify-between text-sm text-slate-500 dark:text-slate-400">
                    <p>&copy; <span id="footer-year"></span> Collectible Realm. Crafted for treasure hunters.</p>
                    <div class="flex flex-wrap gap-3 items-center">
                        <span class="glass-surface border border-white/10 rounded-full px-3 py-1">Version <span id="app-version">0.0.0</span></span>
                        <span class="glass-surface border border-white/10 rounded-full px-3 py-1" id="status-pill">Disconnected</span>
                    </div>
                </div>
            </footer>
        </div>
    </div>

    <template id="toast-template">
        <div class="toast glass-surface border border-white/20 shadow-lg rounded-2xl px-4 py-3 text-sm flex items-start gap-3 w-full max-w-sm">
            <div class="toast-icon text-lg">✨</div>
            <div>
                <p class="toast-title font-semibold"></p>
                <p class="toast-message text-slate-400"></p>
            </div>
            <button class="toast-close ml-auto text-xs uppercase tracking-[0.2em] text-slate-400">Close</button>
        </div>
    </template>

    <div id="modal-root"></div>
    <div id="dropdown-root"></div>

    <script type="module" src="./scripts/main.js"></script>
</body>
</html>
